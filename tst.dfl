mutable l

chan i : 0
chan c : l
chan c2 : l/2
chan c3 : l/2

proc Inv : {} -> {i} = 
    send 1 -> i;
    Inv

proc p1 : {c} -> {c2} = 
    recv x <- c;
    send x -> c2;
    // recv y <- c3;
    read v <- l;
    0

proc p2 : {c2} -> {c3} = 
    recv x <- c2;
    debug;
    send x -> c3;
    0


proc P : {c,c2} -> {i,c2,c3} = Inv || p1 || p2

