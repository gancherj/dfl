mutable l

chan c : l
chan c2 : l/2
chan c3 : l/2

proc p1 : {c,c3} -> {c2} = 
    recv x <- c;
    send x -> c2;
    recv y <- c3;
    write 1 -> l;
    0

proc p2 : {c2} -> {c3} = 
    recv x <- c2;
    debug;
    send x -> c3;
    0


proc P : {c,c2,c3} -> {c2,c3} = p1 || p2

